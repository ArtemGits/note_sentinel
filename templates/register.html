{{define "register"}}
{{template "Index"}}



<div id="marginWrapper" style="margin: 0 3.5em 0 3.5em">
	<div class="ui middle aligned center aligned grid">
  		<div class="column">
			<h2 class="ui teal image header">
		     <!-- <img src="static/assets/images/logo.png" class="image"> -->
		      <div class="content" style="color:#FFFFFF; margin-top: 0.5em;">
		        Sign up for new account.
		      </div>
		    </h2>
			<form class="ui large form"  id="registerForm" method="post">
             <div class="ui stacked segment">
			<div class="ui large form segment" style="margin: 2em 3.5em 0 3.5em">
			 <div  id="filed" class="field">
			    <label>First Name</label>
			    <div class="ui left labeled icon input">
			      <input placeholder="first name" type="text" name="firstname">
			      <i class="user icon"></i>
			      <div class="ui corner label">
			      <!--  <i class="icon asterisk"></i> -->
			      </div>
			    </div>
			  </div>
			  <div  id="filed" class="field">
			    <label>Last Name</label>
			    <div class="ui left labeled icon input">
			      <input placeholder="last name" type="text" name="lastname">
			      <i class="user icon"></i>
			      <div class="ui corner label">
			       
			      </div>
			    </div>
			  </div>
			  <div  id="filed" class="field">
			    <label>E-mail</label>
			    <div class="ui left labeled icon input">
			      <input placeholder="E-mail" type="text" name="email">
			      <i class="user icon"></i>
			      <div class="ui corner label">
			       
			      </div>
			    </div>
			  </div>
			  <div  id="filed" class="field">
			    <label>Password</label>
			    <div class="ui left labeled icon input">
			      <input type="password" name="password">
			      <i class="lock icon"></i>
			      <div class="ui corner label">
			       
			      </div>
			    </div>
			  </div>
			  <!--<div class="ui error message">
			    <div class="header">We noticed some issues</div>
			  </div>
			  -->
			   <input type="submit" class="ui button" value="Registration" style="margin-top:0.5em;" />
			 </div>
			 </div>
			</form>
			
		</div>
	</div>
</div>	
 
 <script>
(function ($) {
	 
    $.fn.serializeFormJSON = function () {
        var o = {};
        var o2 = {};
        var a = this.serializeArray();
        $.each(a, function () {
            if (o[this.name]) {
                if (!o[this.name].push) {
                    o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
            } else {
                o[this.name] = this.value || '';
            }
            o2["data"] = o;
        });
        return o2;
    };
})(jQuery);

$(document).ready(function() {
 $("#registerForm").submit(function(event) {
  event.preventDefault();
  var url = "users/register"
  var data = $(this).serializeFormJSON();
  var json = JSON.stringify(data);
 // console.log(json);
 $.ajax({
 type: "POST",
 url: url,
 data: json, // serializes the form's elements.
				 success: function(){
				 window.location.href = "/success"; // show response from the php script.
				 },
				 error: function() { 
                    alert("Error!");
                }  
  				 

 });
  

 
 }); 
});
  </script>


<div class="ui inverted vertical footer segment" style="margin-top: 1.5em; background-color: #000000;">
    <div class="ui container"> 
      <div class="ui stackable inverted divided equal height stackable grid">
        <div class="three wide column">
          <h4 class="ui inverted header">About</h4>
          <div class="ui inverted link list">
            <a href="#" class="item">Sitemap</a>
            <a href="#" class="item">Contact Us</a>
            <a href="#" class="item">Religious Ceremonies</a>
            <a href="#" class="item">Gazebo Plans</a>
          </div>
        </div>
        <div class="three wide column">
          <h4 class="ui inverted header">Services</h4>
          <div class="ui inverted link list">
            <a href="#" class="item">Banana Pre-Order</a>
            <a href="#" class="item">DNA FAQ</a>
            <a href="#" class="item">How To Access</a>
            <a href="#" class="item">Favorite X-Men</a>
          </div>
        </div>
        <div class="seven wide column">
          <h4 class="ui inverted header">Footer Header</h4>
          <p>Extra space for a call to action inside the footer that could help re-engage users.</p>
        </div>
      </div>
    </div>
  </div>

{{end}}